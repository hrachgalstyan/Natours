{"version":3,"sources":["mapbox.js","alerts.js","login.js","updateSettings.js","index.js","../../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["displayMap","locations","mapboxgl","accessToken","map","Map","container","style","scrollZoom","bounds","LngLatBounds","forEach","loc","el","document","createElement","className","Marker","element","anchor","setLngLat","coordinates","addTo","Popup","offset","setHTML","day","description","extend","fitBounds","padding","top","bottom","left","right","hideAlert","querySelector","parentElement","removeChild","showAlert","type","msg","markup","insertAdjacentHTML","window","setTimeout","login","email","password","res","method","url","data","status","location","assign","err","response","message","logout","reload","updateSettings","toUpperCase","mapbox","getElementById","loginForm","logOutBtn","userDataForm","userPasswordForm","JSON","parse","dataset","addEventListener","e","preventDefault","value","name","textContent","passwordCurrent","passwordConfirm"],"mappings":"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,CAAwB,UAAxB,EAAoCW,KAApC,GAA4C,EAA5C;AACA7D,IAAAA,QAAQ,CAACkD,cAAT,CAAwB,kBAAxB,EAA4CW,KAA5C,GAAoD,EAApD;AACH,GAhBD;AAiBH;;ACnED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"-u.js","sourceRoot":"..\\public\\js","sourcesContent":["/* eslint-disable */\r\n\r\nexport const displayMap = (locations) => {\r\n    mapboxgl.accessToken = 'pk.eyJ1IjoiaHJhY2hnYWxzdHlhbiIsImEiOiJja2M4ODV4bzMxOGxvMzBvMGgzMXNoaHdhIn0.douxQUbF6mEJ01yNKvAyvw';\r\n    var map = new mapboxgl.Map({\r\n        container: 'map',\r\n        style: 'mapbox://styles/hrachgalstyan/ckc889dh62z8z1iowrbsa133z',\r\n        scrollZoom: false\r\n        // center: [-118.113491, 34.111745],\r\n        // zoom: 10,\r\n        // interactive: false\r\n    });\r\n\r\n    const bounds = new mapboxgl.LngLatBounds();\r\n\r\n    locations.forEach(loc => {\r\n        // Create marker\r\n        const el = document.createElement('div');\r\n        el.className = 'marker';\r\n\r\n        // Add marker\r\n        new mapboxgl.Marker({\r\n            element: el,\r\n            anchor: 'bottom'\r\n        }).setLngLat(loc.coordinates).addTo(map);\r\n\r\n        // Add popup\r\n        new mapboxgl.Popup({\r\n            offset: 30\r\n        }).setLngLat(loc.coordinates).setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`).addTo(map);\r\n\r\n        // Extend map bounds to include current location\r\n        bounds.extend(loc.coordinates);\r\n    });\r\n\r\n    map.fitBounds(bounds, {\r\n        padding: {\r\n            top: 200,\r\n            bottom: 150,\r\n            left: 100,\r\n            right: 100\r\n        }\r\n    });\r\n}","// type is 'success' or 'error'\r\n\r\nexport const hideAlert = () => {\r\n    const el = document.querySelector('.alert');\r\n    if (el) el.parentElement.removeChild(el);\r\n}\r\n\r\nexport const showAlert = (type, msg) => {\r\n    hideAlert();\r\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n    document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\r\n    window.setTimeout(hideAlert, 3000);\r\n}","/* eslint-disable */\r\nimport axios from 'axios';\r\nimport {\r\n    showAlert\r\n} from './alerts';\r\n\r\nexport const login = async (email, password) => {\r\n    try {\r\n        const res = await axios({\r\n            method: 'POST',\r\n            url: 'http://127.0.0.1:3000/api/v1/users/login',\r\n            data: {\r\n                email,\r\n                password,\r\n            },\r\n        });\r\n        if (res.data.status === 'success') {\r\n            showAlert('success', 'Logged in successfully');\r\n            window.setTimeout(() => {\r\n                location.assign('/');\r\n            }, 0);\r\n        }\r\n    } catch (err) {\r\n        showAlert('error', err.response.data.message);\r\n    }\r\n};\r\n\r\nexport const logout = async () => {\r\n    try {\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: 'http://127.0.0.1:3000/api/v1/users/logout'\r\n        });\r\n\r\n        if (res.data.status === 'success') location.reload(true);\r\n    } catch (err) {\r\n        showAlert('error', 'Error logging out! Try again');\r\n    }\r\n}","import axios from 'axios';\r\nimport {\r\n    showAlert\r\n} from './alerts'\r\n\r\n// type is either 'password' or 'data'\r\nexport const updateSettings = async (data, type) => {\r\n    try {\r\n        const url = type === 'password' ? 'http://127.0.0.1:3000/api/v1/users/updateMyPassword' : 'http://127.0.0.1:3000/api/v1/users/updateMe'\r\n        const res = await axios({\r\n            method: 'PATCH',\r\n            url,\r\n            data\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            showAlert('success', `${type.toUpperCase()} updated successfully.`);\r\n        }\r\n    } catch (err) {\r\n        showAlert('error', err.response.data.message);\r\n    }\r\n}","/* eslint-disable */\r\nimport '@babel/polyfill';\r\nimport {\r\n    displayMap\r\n} from './mapbox';\r\nimport {\r\n    login,\r\n    logout\r\n} from './login';\r\nimport {\r\n    updateSettings\r\n} from './updateSettings'\r\n\r\n// Dom elements\r\nconst mapbox = document.getElementById('map');\r\nconst loginForm = document.querySelector('.form--login');\r\nconst logOutBtn = document.querySelector('.nav__el--logout');\r\nconst userDataForm = document.querySelector('.form-user-data');\r\nconst userPasswordForm = document.querySelector('.form-user-password');\r\n\r\n// Delegation\r\nif (mapbox) {\r\n    const locations = JSON.parse(mapbox.dataset.locations);\r\n    displayMap(locations);\r\n}\r\n\r\nif (loginForm) {\r\n    loginForm.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n        const email = document.getElementById('email').value;\r\n        const password = document.getElementById('password').value;\r\n        login(email, password);\r\n    });\r\n}\r\n\r\nif (logOutBtn) logOutBtn.addEventListener('click', logout);\r\n\r\nif (userDataForm) {\r\n    userDataForm.addEventListener('submit', e => {\r\n        e.preventDefault();\r\n        const name = document.getElementById('name').value;\r\n        const email = document.getElementById('email').value;\r\n        updateSettings({\r\n            name,\r\n            email\r\n        }, 'data');\r\n    })\r\n}\r\n\r\nif (userPasswordForm) {\r\n    userPasswordForm.addEventListener('submit', async e => {\r\n        e.preventDefault();\r\n        document.querySelector('.btn--save-password').textContent = 'Updating...';\r\n        const passwordCurrent = document.getElementById('password-current').value;\r\n        const password = document.getElementById('password').value;\r\n        const passwordConfirm = document.getElementById('password-confirm').value;\r\n        await updateSettings({\r\n            passwordCurrent,\r\n            password,\r\n            passwordConfirm\r\n        }, 'password');\r\n\r\n        document.querySelector('.btn--save-password').textContent = 'Save password';\r\n        document.getElementById('password-current').value = '';\r\n        document.getElementById('password').value = '';\r\n        document.getElementById('password-confirm').value = '';\r\n    })\r\n}","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}